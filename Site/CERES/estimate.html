<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/estimate.css">
    <link rel="shortcut icon" href="green_logo.ico" type="image/x-icon">
    <script src="https://kit.fontawesome.com/9729ff5aa8.js" crossorigin="anonymous"></script>
    <title>CERES</title>
</head>

<body>
    <div class="ceres">
        <a href="index.html"><img id="logo" src="img/LOGO.png" alt=""></a>
        <h1>ORÇAMENTO</h1>
    </div>
    <div class="example">
        <div id="estimate" class="estimate">
            <h1>Quantos armazéns você possui?</h1>
            <button onclick="addInput()" id="add"><i class="fa-regular fa-plus"></i> Adicionar armazém</button>
            <!--
                ** Adicionar na função addInput()
                INPUTS: Tamanho, Sacas, Valor da saca
                SELECT: Tipo de semente
            -->
            <div id="field"></div>

        </div>
    </div>
    <section id="section">

        <div id="boxes" class="boxes">
            <div id="box" class="box">
                <span class="title">sensores</span>
                <h4 id="t_sensor" class="value"></h4>
            </div>
            <div id="box" class="box">
                <span class="title">custo</span>
                <h4 id="t_custo" class="value"></h4>
            </div>
            <div id="box" class="box">
                <span class="title">sacas ganhas</span>
                <h4 id="t_saca" class="value"></h4>
            </div>
            <div id="box" class="box">
                <span class="title">economia</span>
                <h4 id="t_economy" class="value"></h4>
            </div>
        </div>
    </section>


</body>

</html>

<script>
    var i = 0
    var campo1 =  0
    var campo2 =  0
    var campo3 =  0
    var price = 0

    function addInput() {
        i += 1
        if (i == 1) {
            field.innerHTML += `
            <div class="content-campo">
                <div class="campo">
                    <label>Tamanho em m²</label>
                </div>
                <div class="campo">
                    <label>Sacas</label>
                </div>
                <div class="campo">
                    <label>Valor saca</label>
                </div>
                <div class="campo">
                    <label>Tipo</label>
                </div>
            </div>`
            estimate.innerHTML += "<a href='#section'><button onclick='test()'>Calcular</button></a>"
        }
        if (i < 4) {
            field.innerHTML += `
            <div class="content-campo">
                <div class="campo">
                    <input id="in_campo${i}" type='text' placeholder='23m²' onblur='mask2()'> 
                </div>
                <div class="campo">
                    <input type='text' placeholder='58'> 
                </div>
                <div class="campo">
                    <input id='in_price' type='text' placeholder='R$1400' onblur='mask()'> 
                </div>
                <div class="campo">
                    <select>
                        <option value="c">Semente</option>
                        <option value="c">Café</option>
                        <option value="c">Cacau</option>
                        <option value="c">Araucária</option>
                    </select>
                </div>
            </div>`
        } 
        var sensor = (campo1 + campo2 + campo3) / 15
        var custo = sensor * 32 * 1.5
        t_sensor.innerHTML = Math.round(sensor)
        t_custo.innerHTML = custo.toLocaleString('pt-br', { style: "currency", currency: "BRL" })
        t_saca.innerHTML = campo3
        t_economy.innerHTML = "R$37k"
    }


    function test() {
        section.style.opacity = "100"
        boxes.style.width = "70%"
        estimate.style.height = "60vh"

        campo1 = Number(in_campo1.value)
        campo2 = Number(in_campo2.value)
        campo3 = Number(in_campo3.value)

        addInput()
    }

</script>